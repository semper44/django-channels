document.addEventListener("DOMContentLoaded",(function(){let e,t=document.querySelector("#rightnavsearchButton"),n=document.querySelector("#rightnavsearchicon"),l=document.querySelector("#rightnavsearch"),o=document.querySelector("#rightnavsearch2"),s=document.querySelector("#rightnavParent"),r="django-channels-byf5.onrender.com";t.addEventListener("input",(()=>{document.querySelector("#allrightnavsuggestions").style.display="none",s.style.display="block",l.style.display="block",o.style.display="none"})),document.querySelector("#rightnavcancel").addEventListener("click",(()=>{s.style.display="none",document.querySelector("#allrightnavsuggestions").style.display="block"})),n.onclick=async e=>{document.querySelector("#allrightnavsuggestions").style.display="none",s.style.display="block",e.preventDefault();const t=new FormData(document.querySelector("#rightnavsearchform")),n="django-channels-byf5.onrender.com/search?"+new URLSearchParams(t).toString(),r=await fetch(n,{method:"GET",headers:{"X-CSRFToken":"{{ csrf_token }}"}});if(r.ok){const e=await r.json();document.querySelector("#rightnavParent").style.display="block",o.style.display="flex",console.log(e),console.log("data"),e.results.length>=1?e.results.forEach((e=>{let t=document.createElement("div"),n=document.createElement("div"),l=document.createElement("div"),s=document.createElement("img"),r=document.createElement("p"),i=document.createElement("p"),a=document.createElement("p"),c=document.createElement("p");t.style.width="80%",t.style.padding="1.5rem 0",t.style.height="fit-content",t.style.position="relative",t.style.backgroundImage="url("+e.cover+")",t.style.borderRadius="10px",t.style.minHeight="108px",s.src=e.pics,s.style.width="60px",s.style.height="60px",s.style.borderRadius="50%",s.style.position="absolute",s.style.left="4%",s.style.zIndex="20",t.append(s),r.innerHTML=e.username,r.style.color="white",r.style.width="100%",r.style.textAlign="center",i.innerHTML="item.bio",i.style.color="white",i.style.width="100%",i.style.textAlign="center",a.style.height="fit-content",a.style.width="fit-content",a.style.padding="5px",a.style.color="white",a.style.borderRadius="5px",a.style.backgroundColor="limegreen",a.style.zIndex="20",a.style.marginTop="8px",a.style.cursor="pointer",a.innerHTML="View",l.style.display="grid",l.style.backgroundColor="black",l.style.opacity="0.4",l.style.backdropFilter="blur(2px)",l.style.position="absolute",l.style.bottom="0",l.style.width="100%",l.style.height="50%",l.style.borderRadius="5px",l.style.paddingBottom="3x",l.append(r),l.append(i),n.append(c),n.append(a),n.style.position="absolute",n.style.right="4%",n.style.top="6%",n.style.zIndex="10",t.append(n),t.append(l),o.append(t)})):(document.querySelector("#rightnavcancel").style.display="block",l.style.display="none",o.innerHTML="Search not found")}},t.addEventListener("input",(t=>{clearTimeout(e),e=setTimeout((async()=>{document.querySelector("#allrightnavsuggestions").style.display="none",t.preventDefault();const e=new FormData(document.querySelector("#rightnavsearchform")),n=new URLSearchParams(e),i="django-channels-byf5.onrender.com/search?"+n.toString(),a=await fetch(i,{method:"GET",headers:{"X-CSRFToken":"{{ csrf_token }}"}}),c=await a.json();if(console.log(c),console.log("data233"),l.style.display="none",s.style.display="block",o.innerHTML="",o.style.display="flex",c.results.length>=1){c.results.slice(0,3).forEach((e=>{let t=document.createElement("div"),n=document.createElement("div"),l=document.createElement("div"),s=(document.createElement("div"),document.createElement("img")),i=document.createElement("p"),a=document.createElement("p"),c=document.createElement("p");t.style.width="80%",t.style.padding="1.5rem 0",t.style.height="fit-content",t.style.position="relative",t.style.borderRadius="10px",t.style.minHeight="108px",s.style.width="60px",s.style.height="60px",s.style.borderRadius="50%",s.style.position="absolute",s.style.left="4%",s.style.zIndex="20",i.style.color="limegreen",i.style.width="100%",i.style.textAlign="center",a.style.color="white",a.style.width="100%",a.style.textAlign="center",c.style.height="fit-content",c.style.width="fit-content",c.style.padding="5px",c.style.color="white",c.style.borderRadius="5px",c.style.backgroundColor="limegreen",c.style.zIndex="20",c.style.marginTop="8px",c.style.cursor="pointer",c.innerHTML="View",l.style.display="grid",l.style.backgroundColor="black",l.style.opacity="0.4",l.style.backdropFilter="blur(2px)",l.style.position="absolute",l.style.bottom="0",l.style.width="100%",l.style.height="50%",l.style.borderRadius="5px",l.style.paddingBottom="3x",t.style.background="white",console.log(e),console.log("item"),e.prof_pics&&e.username?(a.innerHTML=e.bio,i.innerHTML=e.username,s.src=e.prof_pics,t.append(s),c.onclick=function(){window.location.href=`${r}/profile/${e.username} `}):e.prof_pics&&e.owner?(i.innerHTML=e.content,c.onclick=function(){window.location.href=`${r}/comments/${e.slug} `}):(console.log(e),i.innerHTML=e.name,a.innerHTML=e.description,s.src=e.photo,t.append(s),c.onclick=function(){window.location.href=`${r}/group-view/${e.name} `}),l.append(i),l.append(a),n.append(c),n.style.position="absolute",n.style.right="4%",n.style.top="6%",n.style.zIndex="10",t.append(n),t.append(l),o.append(t)}));let e=document.createElement("p");e.innerHTML="See all",e.style.width="75%",e.style.backgroundColor="white",e.style.color="#0d2438",e.style.textAlign="center",e.style.cursor="pointer",e.style.border="1px solid #00cc66",e.style.padding="0.5rem 0",e.style.borderRadius="10px",e.style.color="#0d2438",o.append(e),e.addEventListener("mouseenter",(function(){e.style.backgroundColor="#16a34a",e.style.color="white"})),e.addEventListener("mouseleave",(function(){e.style.backgroundColor="white",e.style.color="#0d2438"})),e.addEventListener("click",(async e=>{n.toString();window.location.href='{% url "search_view_template" %}?'+n.toString()}))}else l.style.display="none",o.innerHTML="Search not found"}))}))}));