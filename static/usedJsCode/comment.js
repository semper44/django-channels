$(document).ready((function(){document.querySelector("#commentstore");$("#comment-submit").on("click",(function(){let t=$("#commentmessage").val(),e=$("#comment-id").data("content"),a=new FormData;a.append("csrfmiddlewaretoken","{{ csrf_token }}"),a.append("comments",t),$("#comment_pics")[0]&&a.append("comment_pics",$("#comment_pics")[0].files[0]),$.ajax({method:"POST",url:"/comment/save/"+e+"/",data:a,processData:!1,contentType:!1,success:function(t){window.location.reload(),Toastify({text:"comment posted",duration:3e3,newWindow:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"linear-gradient(to right, #00b09b, #96c93d)"}}).showToast()},error:function(t){Toastify({text:"Something went wrong, try again later",duration:3e3,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"linear-gradient(to right, #00b09b, #96c93d)"}}).showToast()}})})),$("#commentstore").on("click",".postreplies",(function(t){const e=$(this).attr("data-content"),a=$(".replyform[data-content='"+e+"']");a.length>0&&a.toggle(),$("#reply-submit").on("click",(function(){let t=$("#replymessage").val(),e=a.data("content"),o=new FormData;o.append("csrfmiddlewaretoken","{{ csrf_token }}"),o.append("reply_text",t),$("#reply_pics")[0]&&o.append("reply_pics",$("#reply_pics")[0].files[0]),$.ajax({method:"POST",url:"/reply/save/"+e+"/",data:o,processData:!1,contentType:!1,success:function(e){t="",window.location.reload()},error:function(t){}})}))})),$("#more-replies").on("click",(function(){let t=$("#commentstore"),e=$("#more-replies").data("content");t.empty(),$.ajax({method:"GET",url:"/reply/"+e+"/",dataType:"json",success:function(e){e.replies.forEach((function(e){$("div");let a,o=$("<div>").addClass("pl-4"),n=$("<div>").addClass("w-fit flex text-center mt-7"),r=$("<img>").addClass("rounded-full").css({width:"35px",height:"35px"});r.attr("src",e.prof_pics);let s=$("<p>").addClass("text-green-300 ml-2");s.text(e.reply_author),n.append(r,s),o.append(n);let i=$("<div>").addClass("h-fit w-fit bg-base-lightbg dark:bg-base-darkbgvariant shadow-lg hover:shadow-xl rounded-xl ").css({"margin-left":"3.6rem"}),d=$("<div>").addClass("text-white px-4 py-4").text(e.reply);i.append(d),e.reply_pics&&(a=$("<img>").attr("src","{{reply.reply_pics.url}}").attr("alt","").addClass("w-[155px] h-[175px] md:h-[270px] md:w-[240px] lg:w-full lg:h-[375px] rounded-lg"));let c=$("<div>").addClass("postrepliesparent px-8 flex gap-4 items-center").css({"padding-top":"4px","margin-left":"1.8rem"}),p=$("<i>").addClass("fa fa-heart").attr("aria-hidden","true").css({color:"white",cursor:"pointer"}),l=$("<div>").addClass("postreplies").attr("data-content","{{i.id}}"),m=$("<i>").addClass("fa fa-comments").attr("aria-hidden","true").css({color:"white",cursor:"pointer"});l.append(m),c.append(p,l),t.append(o,i,c)}))},error:function(t){}})}))}));