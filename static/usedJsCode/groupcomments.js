document.querySelector("#commentstore");$(document).ready((function(){$("#comment-submit").on("click",(function(){let e=$("#commentmessage").val(),t=$("#comment-id").data("content"),a=new FormData;a.append("csrfmiddlewaretoken","{{ csrf_token }}"),a.append("comments",e),$("#comment_pics")[0]&&a.append("comment_pics",$("#comment_pics")[0].files[0]),$.ajax({method:"POST",url:"/group/comment/save/"+t+"/",data:a,processData:!1,contentType:!1,success:function(e){window.location.reload()},error:function(e){alert(e)}})})),$("#commentstore").on("click",".postreplies",(function(e){const t=$(this).attr("data-content"),a=$(".replyform[data-content='"+t+"']");a.length>0&&a.toggle(),$("#reply-submit").on("click",(function(){let e=$("#replymessage").val(),t=a.data("content"),n=new FormData;n.append("csrfmiddlewaretoken","{{ csrf_token }}"),n.append("reply_text",e),$("#reply_pics")[0]&&n.append("reply_pics",$("#reply_pics")[0].files[0]),$.ajax({method:"POST",url:"/reply/save/"+t+"/",data:n,processData:!1,contentType:!1,success:function(t){e="",window.location.reload()},error:function(e){}})}))})),$("#more-replies").on("click",(function(){let e=$("#commentstore"),t=$("#more-replies").data("content");e.empty(),$.ajax({method:"GET",url:"/group/reply/"+t+"/",dataType:"json",success:function(t){t.replies.forEach((function(t){$("div");let a,n=$("<div>").addClass("pl-4"),r=$("<div>").addClass("w-fit flex text-center mt-7"),s=$("<img>").addClass("rounded-full").css({width:"35px",height:"35px"});s.attr("src",t.prof_pics);let o=$("<p>").addClass("text-green-300 ml-2");o.text(t.reply_author),r.append(s,o),n.append(r);let d=$("<div>").addClass("h-fit w-fit bg-base-lightbg dark:bg-base-darkbgvariant shadow-lg hover:shadow-xl rounded-xl ").css({"margin-left":"3.6rem"}),p=$("<div>").addClass("text-white px-4 py-4").text(t.reply);d.append(p),t.reply_pics&&(a=$("<img>").attr("src","{{reply.reply_pics.url}}").attr("alt","").addClass("w-[155px] h-[175px] md:h-[270px] md:w-[240px] lg:w-full lg:h-[375px] rounded-lg"));let c=$("<div>").addClass("postrepliesparent px-8 flex gap-4 items-center").css({"padding-top":"4px","margin-left":"1.8rem"}),l=$("<i>").addClass("fa fa-heart").attr("aria-hidden","true").css({color:"white",cursor:"pointer"}),i=$("<div>").addClass("postreplies").attr("data-content","{{i.id}}"),m=$("<i>").addClass("fa fa-comments").attr("aria-hidden","true").css({color:"white",cursor:"pointer"});i.append(m),c.append(l,i),e.append(n,d,c)}))},error:function(e){}})}))}));